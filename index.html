<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Amna</title>
<style>
  html,body{height:100%;margin:0;background:#000;display:flex;align-items:center;justify-content:center;font-family:system-ui,Segoe UI,Roboto;}
  .phone {
    width: 360px; height: 640px;
    overflow:hidden; border-radius:24px; box-shadow:0 20px 50px rgba(0,0,0,.6);
    position:relative; background:#111;
  }
  canvas#stage{ position:absolute; left:0; top:0; width:100%; height:100%; display:block; }
  .controls { position:absolute; left:8px; bottom:8px; z-index:40; display:flex; gap:8px; }
  button{ padding:8px 12px; border-radius:8px; border:0; background:#1db954;color:white; font-weight:600; cursor:pointer;}
  .caption {
    position:absolute; left:12px; right:12px; bottom:80px; z-index:30; color:#fff; text-align:center;
    font-size:18px; text-shadow:0 6px 18px rgba(0,0,0,.6);
  }
  .badge {
    position:absolute; right:12px; top:12px; padding:6px 10px; background:rgba(255,255,255,.06); color:#fff; border-radius:999px;
    font-weight:700; font-size:12px; backdrop-filter: blur(6px);
  }
  .overlay-text{
    position:absolute; left:12px; right:12px; top:36%; text-align:center; z-index:35; pointer-events:none;
    font-size:28px; color:#ffd8d8; font-weight:800; text-shadow:0 8px 30px rgba(0,0,0,.5);
  }
</style>
</head>
<body>
<div class="phone" id="phone">
  <canvas id="stage" width="360" height="640"></canvas>
  <div class="badge">Happy Birthday üéâ</div>
  <div class="overlay-text" id="overlay">Happy Birthday ‚Äî Amna</div>
  <div class="caption" id="caption">Wishing you lots of smiles and cake üç∞</div>
  <div class="controls">
    <button id="playBtn">Play</button>
    <button id="pauseBtn">Pause</button>
    <button id="muteBtn">Mute</button>
  </div>
</div>

<audio id="music" src="HAPPY Birthday Song, Happy Birthday to You.mp4" preload="auto" loop></audio>

<script>
// === CONFIG ===
// === CONFIG ===
const images = Array.from({length:33},(_,i)=>`img${i+1}.jpg`);

// 2 seconds per slide (2000 ms)
const durations = Array(images.length).fill(2000);

const texts = [
  'Happy Birthday, Amna üéÇ',
  'Wishing you endless joy üí´',
  'Stay blessed & keep shining ‚ú®',
  'May your dreams come true üåà',
  'Keep smiling & inspiring üå∏',
  'Another year wiser & happier üéà',
  'Here‚Äôs to laughter, love & success üíï',
  '‚Äî from Rafay ‚ù§Ô∏è',
  'You deserve all the happiness üíñ',
  'Hope this year brings you magic ‚ú®',
  'This day is all about you ü´∂',
  'Keep chasing your dreams üèÜ',
  'Have a day full of smiles üòÑ',
  'Enjoy every moment üéä',
  'Your kindness inspires us üíï',
  'May success follow you always üèÖ',
  'Best wishes from your friends ü§ó',
  'Today we celebrate YOU ü•≥',
  'Be happy and shine bright ‚ú®',
  'We‚Äôre so proud of you ‚ù§Ô∏è',
  'Sending hugs and prayers ü§≤',
  'Make wonderful memories üì∏',
  'Keep dreaming big üåü',
  'Always stay cheerful üå∏',
  'The world is lucky to have you üåç',
  'Celebrate and dance üíÉ',
  'Blow the candles, make a wish üïØÔ∏è',
  'Enjoy your favorite cake üç∞',
  'Thanks for being amazing üôå',
  'Here‚Äôs to another great year ü•Ç',
  'With love from the whole family ‚ù§Ô∏è',
  'Happy moments ahead üåà',
  'Happy Birthday Motiü§£ üéÇ'
];

const caps = [
  'Cut the cake and make a wish!',
  'You are the sunshine of our family ‚òÄÔ∏è',
  'Always believe in yourself üåü',
  'Never stop chasing your goals üèÜ',
  'We‚Äôre proud of you üíñ',
  'Celebrate your special day üéä',
  'Cheers to more memories together ü•Ç',
  'Have the best day ever ‚ù§Ô∏è',
  'May life always treat you kindly üå∏',
  'Let happiness surround you always üíõ',
  'Big cheers for you ü•≥',
  'With love & hugs from Rafay ü§ó',
  'Special blessings from all of us ü§≤',
  'Your smile brightens our days üòç',
  'This is your time to shine ‚ú®',
  'We are thankful for you üíñ',
  'Stay positive, stay strong üí™',
  'Be bold, be brave, be you üí´',
  'More adventures are coming üåç',
  'Good vibes only ‚ú®',
  'This year is your year üèÜ',
  'Another candle, another wish üïØÔ∏è',
  'We‚Äôre cheering for you üéâ',
  'Hugs, smiles and happiness ü§ó',
  'We love you to the moon & back üåô',
  'Your journey is beautiful üíê',
  'Let today be unforgettable üì∏',
  'Time to party ü•≥',
  'Feel the love around you ‚ù§Ô∏è',
  'Blessings from everyone üå∏',
  'A toast to you ü•Ç',
  'Birthday vibes forever üéÇ',
  'Stay blessed & happy always ü§ç'
];


// ==============

const canvas = document.getElementById('stage');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;
let imgs = [], loaded = 0;

images.forEach((src,i)=>{
  const im = new Image();
  im.src = src;
  im.onload = ()=>{ imgs[i]=im; loaded++; if(loaded===images.length) start(); };
  im.onerror = ()=>{ console.error('Error loading',src); loaded++; if(loaded===images.length) start(); };
});

// hearts
const hearts = [];
function spawnHeart(){
  hearts.push({
    x: Math.random()*W,
    y: H + 20,
    r: 6+Math.random()*10,
    vy: 0.5 + Math.random()*1.2,
    vx: (Math.random()-0.5)*0.6,
    rot: Math.random()*Math.PI*2,
    alive: 0
  });
  if(hearts.length>60) hearts.shift();
}
function drawHeart(ctx,x,y,r,rot,alpha=1){
  ctx.save();
  ctx.translate(x,y);
  ctx.rotate(rot);
  ctx.scale(r/20,r/20);
  ctx.globalAlpha = alpha;
  ctx.beginPath();
  ctx.moveTo(0,0);
  ctx.bezierCurveTo(0,-8, -20,-8, -20,6);
  ctx.bezierCurveTo(-20,22, -2,30, 0,44);
  ctx.bezierCurveTo(2,30, 20,22, 20,6);
  ctx.bezierCurveTo(20,-8, 0,-8, 0,0);
  ctx.closePath();
  ctx.fillStyle = '#ff4566';
  ctx.fill();
  ctx.restore();
}

// slideshow
let index = 0, startTime=0, running=false;
const music = document.getElementById('music');

function start(){
  index=0; startTime = performance.now(); running = true;
  requestAnimationFrame(loop);
}

function loop(ts){
  if(!running) return;
  const t = ts - startTime;
  let cursor=0, i=0;
  while(i < images.length && t > cursor + durations[i]){ cursor += durations[i]; i++; }
  index = Math.min(i, images.length-1);
  const localT = Math.max(0, t - cursor);
  const frac = Math.min(1, localT / durations[index]);

  ctx.clearRect(0,0,W,H);
  const im = imgs[index];
  if(im){
    const zoom = 1 + 0.12*frac;
    const panX = 0.08 * (index%2===0 ? frac : (1-frac));
    const sw = im.width / zoom;
    const sh = im.height / zoom;
    const sx = Math.max(0, (im.width - sw) * panX);
    const sy = Math.max(0, (im.height - sh) * 0.12);
    ctx.drawImage(im, sx, sy, sw, sh, 0, 0, W, H);
  } else {
    ctx.fillStyle = '#333'; ctx.fillRect(0,0,W,H);
  }

  // fade next slide
  if(index < images.length-1){
    const nextIm = imgs[index+1];
    const transitionStart = durations[index] - 500;
    if(localT > transitionStart){
      const tr = (localT - transitionStart)/500;
      if(nextIm){
        const zoom2 = 1 + 0.12*(tr);
        const sw2 = nextIm.width / zoom2;
        const sh2 = nextIm.height / zoom2;
        const sx2 = Math.max(0, (nextIm.width - sw2) * (1-tr));
        const sy2 = Math.max(0, (nextIm.height - sh2) * 0.12);
        ctx.globalAlpha = tr;
        ctx.drawImage(nextIm, sx2, sy2, sw2, sh2, 0, 0, W, H);
        ctx.globalAlpha = 1;
      }
    }
  }

  document.getElementById('overlay').textContent = texts[index] || texts[texts.length-1];
  document.getElementById('caption').textContent = caps[index] || caps[caps.length-1];

  if(Math.random() < 0.14) spawnHeart();
  for(let i=0;i<hearts.length;i++){
    const h = hearts[i];
    h.y -= h.vy; h.x += h.vx; h.rot += 0.02; h.alive += 0.02;
    const alpha = Math.max(0, Math.min(1, 1 - (h.alive/4)));
    drawHeart(ctx, h.x, h.y, h.r, h.rot, alpha);
  }

  if(t < durations.reduce((a,b)=>a+b,0)){
    requestAnimationFrame(loop);
  } else {
    running = false;
  }
}

// controls
document.getElementById('playBtn').addEventListener('click', ()=>{
  if(!running){ start(); }
  music.play().catch(()=>{});
});
document.getElementById('pauseBtn').addEventListener('click', ()=>{
  running=false; music.pause();
});
document.getElementById('muteBtn').addEventListener('click', ()=>{
  music.muted = !music.muted;
  document.getElementById('muteBtn').textContent = music.muted ? 'Unmute' : 'Mute';
});
</script>
</body>
</html>
